{"version":3,"sources":["webpack:///src/views/user/components/add-user.vue","webpack:///./src/views/user/components/add-user.vue?9463","webpack:///./src/views/user/components/add-user.vue","webpack:///src/views/user/list.vue","webpack:///./src/views/user/list.vue?4a03","webpack:///./src/views/user/list.vue"],"names":["add_user","name","props","visible","type","Boolean","default","groupId","String","Number","data","adminId","Object","utils","adminToken","action","config","baseURL","newUser","fileName","userListFile","userList","centerDialogVisible","minute","downloadUrl","watch","val","this","methods","save","_this","length","mobile","forEach","user","mark","push","api","post","activityUserGroupId","then","res","$emit","$alert","handleAddUserToList","_this2","handleUploadProgress","handleUploadSuccess","response","file","fileList","code","message","handleUploadError","exportUserList","_this3","time","path","handleImport","_this4","activityUserGroupUuid","item","some","handleRemoveUser","splice","index","components_add_user","render","_vm","_h","$createElement","_c","_self","attrs","before-close","width","on","update:visible","$event","staticClass","slot","align","justify","_v","click","span","clearable","placeholder","model","value","callback","$$v","expression","accept","show-file-list","on-progress","on-success","on-error","plain","staticStyle","color","_s","_l","userIndex","key","url","staticRenderFns","list","components","addUser","__webpack_require__","normalizeComponent","ssrContext","cols","label","prop","h","scope","formatTime","actions","showAddUser","dialogVisibleGroup","dialogVisibleSelect","selectGroup","search","id","keyword","totalCount","userGroupList","addGroupName","selectedList","mounted","fetchData","getGroupList","$nextTick","renderBreadCrumbAction","$bus","c","size","exportExcel","users","doSearch","pageNumber","pageSize","onPageSize","onPageNumber","selection","handleEditGroup","handleCancelGroup","handleAddGroup","title","$message","messsage","_this5","dataList","handleToggleGroup","handleGroupingUser","handleGroupUser","_this6","mobileList","params","handleSelectClose","handleDeleteUserGroup","_this7","$confirm","confirmButtonText","cancelButtonText","delList","catch","user_list","padding","_e","margin-left","suffix-icon","nativeOn","keyup","_k","keyCode","pagination","group","class","active","userCount","before-colse","list_Component","list_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.f5b36fef8b22ba5e78a2.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog\r\n            :visible.sync=\"visible\"\r\n            :before-close=\"()=>{$emit('update:visible',false)}\"\r\n            width=\"800px\"\r\n        >\r\n            <el-row slot=\"title\" class=\"dialog-title\">\r\n                <el-row type=\"flex\" align=\"middle\" justify=\"space-between\">\r\n                    <h4 class=\"title\">添加用户</h4>\r\n                    <el-button class=\"save-button\" type=\"text\" @click=\"save\">保存</el-button>\r\n                </el-row>\r\n            </el-row>\r\n            <el-row class=\"dialog-body\">\r\n                <el-row class=\"import-content\">\r\n                    <el-row type=\"flex\" align=\"middle\" justify=\"center\" class=\"import-input\">\r\n                        <span>账号添加：</span>\r\n                        <el-col :span=\"14\">\r\n                            <el-input clearable v-model=\"newUser\" placeholder=\"输入用户彩之云账号\"></el-input>\r\n                        </el-col>\r\n                        <el-button class=\"button\" type=\"text\" @click=\"handleAddUserToList\">添加</el-button>\r\n                    </el-row>\r\n                    <el-row type=\"flex\" align=\"middle\" justify=\"center\" class=\"import-input\">\r\n                        <span>批量导入：</span>\r\n                        <el-col :span=\"14\">\r\n                            <el-input placeholder :value=\"fileName\"></el-input>\r\n                        </el-col>\r\n                        <el-upload\r\n                            class=\"upload-demo\"\r\n                            accept=\".csv\"\r\n                            :action=\"action + `?adminId=${adminId}&adminToken=${adminToken}`\"\r\n                            :data=\"{adminId,adminToken,fileName:'file'}\"\r\n                            :show-file-list=\"false\"\r\n                            :on-progress=\"handleUploadProgress\"\r\n                            :on-success=\"handleUploadSuccess\"\r\n                            :on-error=\"handleUploadError\"\r\n                        >\r\n                            <el-button class=\"button\" type=\"text\">添加</el-button>\r\n                        </el-upload>\r\n                    </el-row>\r\n                    <el-row type=\"flex\" align=\"middle\" justify=\"center\">\r\n                        <el-button type=\"primary\" plain @click=\"exportUserList\">下载模版</el-button>\r\n                        <el-button type=\"primary\" @click=\"handleImport\">确认导入</el-button>\r\n                    </el-row>\r\n                </el-row>\r\n                <el-row class=\"count\">\r\n                    共\r\n                    <span style=\"color:#6699FF\">{{userList.length}}</span> 条\r\n                </el-row>\r\n                <el-row class=\"export-content\">\r\n                    <el-row\r\n                        class=\"export-item\"\r\n                        type=\"flex\"\r\n                        align=\"middle\"\r\n                        v-for=\"(user,userIndex) in userList\"\r\n                        :key=\"user.mobile\"\r\n                    >\r\n                        <el-col :span=\"12\" class=\"left\">{{user.mobile}}</el-col>\r\n                        <el-col :span=\"10\" class=\"right\">\r\n                            <el-button\r\n                                v-if=\"!user.mark\"\r\n                                type=\"text\"\r\n                                @click=\"handleRemoveUser(userIndex)\"\r\n                            >删除</el-button>\r\n                            <span v-else class=\"disable\">{{user.mark}}</span>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-row>\r\n            </el-row>\r\n        </el-dialog>\r\n\r\n        <copy-dialog :visible.sync=\"centerDialogVisible\" :time=\"minute\" :url=\"downloadUrl\"></copy-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\";\r\nimport { API_CONFIG } from \"@/api/config\";\r\nimport { getUserId, getUserToken } from \"@/utils\";\r\nexport default {\r\n    name: \"addUser\",\r\n    props: {\r\n        visible: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        groupId: {\r\n            type: [String, Number],\r\n            default: \"\"\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            adminId: getUserId(),\r\n            adminToken: getUserToken(),\r\n            action: API_CONFIG.baseURL + \"activityExcelUserImport\",\r\n            newUser: \"\",\r\n            fileName: \"\",\r\n            userListFile: \"\",\r\n            userList: [],\r\n            centerDialogVisible: false,\r\n            minute: \"\",\r\n            downloadUrl: \"\"\r\n        };\r\n    },\r\n    watch: {\r\n        visible(val) {\r\n            this.newUser = \"\";\r\n            this.fileName = \"\";\r\n            this.userList = [];\r\n            this.userListFile = \"\";\r\n        }\r\n    },\r\n    methods: {\r\n        /**\r\n         * 保存\r\n         */\r\n        save() {\r\n            if (!this.userList.length) {\r\n                this.$alert(\"请添加用户\", {\r\n                    type: \"error\"\r\n                });\r\n                return;\r\n            }\r\n            const mobile = [];\r\n            this.userList.forEach(user => {\r\n                if (!user.mark) {\r\n                    mobile.push(user.mobile);\r\n                }\r\n            });\r\n            api.post(\"traderActivityUserInsertMore\", {\r\n                mobile,\r\n                activityUserGroupId: this.groupId\r\n            }).then(res => {\r\n                // this.dialogVisible = false;\r\n                // const that = this;\r\n                // this.$alert(res.data, {\r\n                //     type: \"success\",\r\n                //     callback() {\r\n                //         that.loadData();\r\n                //     }\r\n                // });\r\n                this.$emit(\"update:visible\", false);\r\n                this.$alert(\"保存成功\", {\r\n                    type: \"success\"\r\n                });\r\n            });\r\n        },\r\n        /**\r\n         * 账号添加\r\n         */\r\n        handleAddUserToList() {\r\n            api.post(\"activityUserInsertCheck\", {\r\n                mobile: this.newUser,\r\n                activityUserGroupId: this.groupId\r\n            }).then(res => {\r\n                this.userList.push({\r\n                    mobile: res.data.mobile,\r\n                    mark: res.data.mark\r\n                });\r\n            });\r\n        },\r\n        handleUploadProgress() {\r\n            this.fileName = \"上传中...\";\r\n        },\r\n        handleUploadSuccess(response, file, fileList) {\r\n            if (response.code === 0) {\r\n                this.fileName = file.name;\r\n                this.userListFile = response.data;\r\n            } else {\r\n                this.fileName = \"\";\r\n                if (response.message) {\r\n                    this.$alert(`${response.message}`, \"上传失败\", {\r\n                        type: \"error\"\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        handleUploadError() {\r\n            this.$alert(\"上传失败，请重新上传\", \"服务器异常\", {\r\n                type: \"error\"\r\n            });\r\n            this.fileName = \"\";\r\n        },\r\n        /**\r\n         * 下载模板\r\n         */\r\n        exportUserList() {\r\n            api.post(\"activityExcelUser\").then(res => {\r\n                this.minute = res.data.time;\r\n                this.downloadUrl = res.data.path;\r\n                this.centerDialogVisible = true;\r\n            });\r\n        },\r\n        /**\r\n         * 确认导入\r\n         */\r\n        handleImport() {\r\n            api.post(\"activityUserInsertMoreCheck\", {\r\n                file: this.userListFile,\r\n                activityUserGroupUuid: this.groupId\r\n            }).then(res => {\r\n                res.data.forEach(item => {\r\n                    if (this.userList.length) {\r\n                        const isExist = this.userList.some(user => {\r\n                            return item.mobile === user.mobile;\r\n                        });\r\n                        if (!isExist) this.userList.push(item);\r\n                    } else {\r\n                        this.userList.push(item);\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        handleRemoveUser() {\r\n            this.userList.splice(index, 1);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dialog-title {\r\n    .title {\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n    }\r\n    .save-button {\r\n        margin-right: 26px;\r\n        padding: 0;\r\n    }\r\n}\r\n.dialog-body {\r\n    .import-content {\r\n        .import-input {\r\n            margin-bottom: 10px;\r\n        }\r\n        .button {\r\n            margin-left: 10px;\r\n        }\r\n    }\r\n    .count {\r\n        padding: 5px 10px;\r\n        margin: 10px 0;\r\n        background: rgba(242, 242, 242, 1);\r\n    }\r\n    .export-content {\r\n        padding: 20px 0;\r\n        .export-item {\r\n            padding: 5px;\r\n            .left {\r\n                text-align: center;\r\n            }\r\n            .right {\r\n                text-align: right;\r\n                .disable {\r\n                    color: #c9c9c9;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/components/add-user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"before-close\":function (){_vm.$emit('update:visible',false)},\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-row',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"space-between\"}},[_c('h4',{staticClass:\"title\"},[_vm._v(\"添加用户\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"save-button\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"dialog-body\"},[_c('el-row',{staticClass:\"import-content\"},[_c('el-row',{staticClass:\"import-input\",attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"center\"}},[_c('span',[_vm._v(\"账号添加：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"输入用户彩之云账号\"},model:{value:(_vm.newUser),callback:function ($$v) {_vm.newUser=$$v},expression:\"newUser\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleAddUserToList}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"import-input\",attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"center\"}},[_c('span',[_vm._v(\"批量导入：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"placeholder\":\"\",\"value\":_vm.fileName}})],1),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"accept\":\".csv\",\"action\":_vm.action + \"?adminId=\" + _vm.adminId + \"&adminToken=\" + _vm.adminToken,\"data\":{adminId: _vm.adminId,adminToken: _vm.adminToken,fileName:'file'},\"show-file-list\":false,\"on-progress\":_vm.handleUploadProgress,\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError}},[_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"text\"}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.exportUserList}},[_vm._v(\"下载模版\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleImport}},[_vm._v(\"确认导入\")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"count\"},[_vm._v(\"\\n                共\\n                \"),_c('span',{staticStyle:{\"color\":\"#6699FF\"}},[_vm._v(_vm._s(_vm.userList.length))]),_vm._v(\" 条\\n            \")]),_vm._v(\" \"),_c('el-row',{staticClass:\"export-content\"},_vm._l((_vm.userList),function(user,userIndex){return _c('el-row',{key:user.mobile,staticClass:\"export-item\",attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{staticClass:\"left\",attrs:{\"span\":12}},[_vm._v(_vm._s(user.mobile))]),_vm._v(\" \"),_c('el-col',{staticClass:\"right\",attrs:{\"span\":10}},[(!user.mark)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleRemoveUser(userIndex)}}},[_vm._v(\"删除\")]):_c('span',{staticClass:\"disable\"},[_vm._v(_vm._s(user.mark))])],1)],1)}))],1)],1),_vm._v(\" \"),_c('copy-dialog',{attrs:{\"visible\":_vm.centerDialogVisible,\"time\":_vm.minute,\"url\":_vm.downloadUrl},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bec0287\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/components/add-user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3bec0287\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\czy-activity\\\\\\\\activity-management-platform\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\index.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add-user.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-user.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3bec0287\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add-user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3bec0287\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/components/add-user.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <el-row type=\"flex\">\r\n            <el-col :span=\"20\">\r\n                <div style=\"padding:10px 15px;\">\r\n                    <el-button @click=\"handleGroupingUser\">分组</el-button>\r\n                    <el-button v-if=\"search.id!=1\" @click=\"handleDeleteUserGroup\">删除</el-button>\r\n                    <el-input\r\n                        placeholder=\"搜索用户账号或昵称\"\r\n                        suffix-icon=\"el-icon-search\"\r\n                        @keyup.enter.native=\"doSearch\"\r\n                        v-model=\"keyword\"\r\n                        style=\"width:300px;margin-left:15px\"\r\n                    ></el-input>\r\n                </div>\r\n                <div class=\"flex1\">\r\n                    <Utable\r\n                        :data=\"list\"\r\n                        :cols=\"cols\"\r\n                        :actions=\"actions\"\r\n                        :pagination=\"false\"\r\n                        :selection=\"true\"\r\n                        @selection=\"selection\"\r\n                    />\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"4\" class=\"user-sidebar\">\r\n                <template v-for=\"group in userGroupList\">\r\n                    <el-row\r\n                        @click.native=\"handleToggleGroup(1)\"\r\n                        :key=\"group.id\"\r\n                        v-if=\"group.id==1\"\r\n                        class=\"all\"\r\n                        :class=\"{active: search.id === 1}\"\r\n                        type=\"flex\"\r\n                        align=\"middle\"\r\n                    >全部用户（{{group.userCount}}）</el-row>\r\n                </template>\r\n                <el-row class=\"other\">\r\n                    <template v-for=\"group in userGroupList\">\r\n                        <el-row\r\n                            @click.native=\"handleToggleGroup(group.id)\"\r\n                            :class=\"{active: search.id === group.id}\"\r\n                            class=\"group\"\r\n                            :key=\"group.id\"\r\n                            type=\"flex\"\r\n                            align=\"middle\"\r\n                            justify=\"center\"\r\n                            v-if=\"group.id!=1\"\r\n                        >{{group.title}}（{{group.userCount}}）</el-row>\r\n                    </template>\r\n                </el-row>\r\n                <el-row class=\"add-button\" type=\"flex\" align=\"middle\" justify=\"center\">\r\n                    <el-button type=\"text\" @click=\"handleEditGroup\">＋新增分组</el-button>\r\n                    <el-dialog\r\n                        class=\"dialog-group\"\r\n                        title=\"新增分组\"\r\n                        :visible.sync=\"dialogVisibleGroup\"\r\n                        width=\"20%\"\r\n                    >\r\n                        <el-row type=\"flex\" align=\"middle\">\r\n                            <el-input v-model=\"addGroupName\" placeholder=\"请输入分组名称\"></el-input>\r\n                        </el-row>\r\n                        <span slot=\"footer\" class=\"dialog-footer\">\r\n                            <el-button @click=\"handleCancelGroup\">取 消</el-button>\r\n                            <el-button type=\"primary\" @click=\"handleAddGroup\">确 定</el-button>\r\n                        </span>\r\n                    </el-dialog>\r\n                </el-row>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <add-user :visible.sync=\"showAddUser\" :groupId=\"search.id\"></add-user>\r\n\r\n        <el-dialog\r\n            class=\"dialog-group\"\r\n            title=\"请选择分组\"\r\n            :visible.sync=\"dialogVisibleSelect\"\r\n            width=\"30%\"\r\n            :before-colse=\"handleSelectClose\"\r\n        >\r\n            <el-select class=\"dialog-select\" v-model=\"selectGroup\" placeholder=\"请选择\">\r\n                <el-option\r\n                    v-for=\"item in userGroupList\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.title\"\r\n                    :value=\"item.id\"\r\n                ></el-option>\r\n            </el-select>\r\n\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisibleSelect = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"handleGroupUser\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <copy-dialog :visible.sync=\"centerDialogVisible\" :time=\"minute\" :url=\"downloadUrl\"></copy-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\";\r\nimport addUser from \"@/views/user/components/add-user\";\r\n\r\nexport default {\r\n    components: { addUser },\r\n    data() {\r\n        return {\r\n            list: [],\r\n            cols: [\r\n                {\r\n                    label: \"ID\",\r\n                    prop: \"id\",\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    label: \"用户头像\",\r\n                    prop: \"image\",\r\n                    align: \"center\",\r\n                    render: (h, scope) => {\r\n                        return h(\"div\", [<div />]);\r\n                    }\r\n                },\r\n                {\r\n                    label: \"用户昵称\",\r\n                    prop: \"nickname\",\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    label: \"用户账号\",\r\n                    prop: \"mobile\",\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    label: \"添加时间\",\r\n                    prop: \"createAt\",\r\n                    align: \"center\",\r\n                    formatTime: true\r\n                },\r\n                {\r\n                    label: \"用户分组\",\r\n                    prop: \"groups\",\r\n                    align: \"center\"\r\n                }\r\n            ],\r\n            actions: [],\r\n            showAddUser: false,\r\n            dialogVisibleGroup: false,\r\n            dialogVisibleSelect: false,\r\n            selectGroup: \"\",\r\n            search: {\r\n                id: 1,\r\n                keyword: \"\"\r\n                // pageNumber: 1,\r\n                // pageSize: 10,\r\n                // total: 0\r\n            },\r\n            keyword: \"\",\r\n            totalCount: 0,\r\n            userGroupList: [],\r\n            addGroupName: \"\",\r\n            selectedList: [],\r\n            minute: \"1\",\r\n            downloadUrl: \"123\",\r\n            centerDialogVisible: false\r\n        };\r\n    },\r\n    mounted() {\r\n        this.fetchData();\r\n        this.getGroupList();\r\n        this.$nextTick(this.renderBreadCrumbAction);\r\n    },\r\n    methods: {\r\n        renderBreadCrumbAction() {\r\n            this.$bus.$emit(\"changeBreadCrumbAction\", (c, h) => {\r\n                return h(\"div\", {}, [\r\n                    <el-button\r\n                        size=\"medium\"\r\n                        type=\"primary\"\r\n                        onClick={this.exportExcel}\r\n                    >\r\n                        导出excel\r\n                    </el-button>,\r\n                    <el-button\r\n                        size=\"medium\"\r\n                        type=\"primary\"\r\n                        onClick={this.addUser}\r\n                    >\r\n                        添加用户\r\n                    </el-button>\r\n                ]);\r\n            });\r\n        },\r\n        exportExcel() {\r\n            api.post(\"activityUserDataExcel\", {\r\n                activityUserGroupId: this.search.id\r\n            }).then(res => {\r\n                this.minute = res.data.time;\r\n                this.downloadUrl = res.data.path;\r\n                this.centerDialogVisible = true;\r\n            });\r\n            // this.centerDialogVisible = true;\r\n        },\r\n        addUser() {\r\n            this.showAddUser = true;\r\n        },\r\n        /**\r\n         * 获取用户列表\r\n         */\r\n        fetchData() {\r\n            api.post(\"activityGroupGetWithUsers\", this.search).then(res => {\r\n                this.list = res.data.users;\r\n                // this.search.total = res.data.dataCount;\r\n                // if (!this.search.id) {\r\n                //     this.totalCount = res.data.dataCount;\r\n                // }\r\n            });\r\n        },\r\n        doSearch() {\r\n            this.search.keyword = this.keyword;\r\n            this.search.pageNumber = 1;\r\n            this.search.pageSize = 10;\r\n            this.fetchData();\r\n        },\r\n        onPageSize(val) {\r\n            this.search.pageSize = val;\r\n            this.fetchData();\r\n        },\r\n        onPageNumber(val) {\r\n            this.search.pageNumber = val;\r\n            this.fetchData();\r\n        },\r\n        selection(val) {\r\n            this.selectedList = val;\r\n        },\r\n        /**\r\n         * 点击新增分组\r\n         */\r\n        handleEditGroup() {\r\n            this.dialogVisibleGroup = true;\r\n        },\r\n        /**\r\n         * 取消新增分组\r\n         */\r\n        handleCancelGroup() {\r\n            this.dialogVisibleGroup = false;\r\n            this.addGroupName = \"\";\r\n        },\r\n        /**\r\n         * 新增分组\r\n         */\r\n        handleAddGroup() {\r\n            if (!this.addGroupName) {\r\n                this.$message({\r\n                    messsage: \"请输入分组名称\",\r\n                    type: \"error\"\r\n                });\r\n                return;\r\n            }\r\n            api.post(\"activityGroupInsert\", {\r\n                title: this.addGroupName\r\n            }).then(res => {\r\n                this.$message({\r\n                    type: \"success\",\r\n                    message: \"添加成功\"\r\n                });\r\n                this.dialogVisibleGroup = false;\r\n                this.addGroupName = \"\";\r\n                this.getGroupList();\r\n            });\r\n        },\r\n        /**\r\n         * 获取分组列表\r\n         */\r\n        getGroupList() {\r\n            api.post(\"activityGroupGetList\", { title: \"\" }).then(res => {\r\n                this.userGroupList = res.data.dataList;\r\n            });\r\n        },\r\n        handleToggleGroup(id) {\r\n            this.search.id = id;\r\n            this.fetchData();\r\n        },\r\n        /**\r\n         * 点击分组按钮\r\n         */\r\n        handleGroupingUser() {\r\n            if (!this.selectedList.length) {\r\n                this.$alert(\"请选择用户\", {\r\n                    type: \"error\"\r\n                });\r\n                return;\r\n            }\r\n            this.dialogVisibleSelect = true;\r\n        },\r\n        /**\r\n         * 分组\r\n         */\r\n        handleGroupUser() {\r\n            let mobileList = [];\r\n            this.selectedList.forEach(item => {\r\n                mobileList.push(item.mobile);\r\n            });\r\n            let params = {\r\n                mobile: mobileList,\r\n                activityUserGroupId: this.selectGroup\r\n            };\r\n            api.post(\"activityGroupUserJoin\", params).then(res => {\r\n                this.dialogVisibleSelect = false;\r\n                this.fetchData();\r\n            });\r\n        },\r\n        handleSelectClose() {\r\n            this.selectGroup = \"\";\r\n        },\r\n        /**\r\n         * 点击删除按钮\r\n         */\r\n        handleDeleteUserGroup() {\r\n            if (!this.selectedList.length) {\r\n                this.$alert(\"请选择用户\", {\r\n                    type: \"error\"\r\n                });\r\n                return;\r\n            }\r\n            this.$confirm(\"此操作将删除该分组关系，是否继续？\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\"\r\n            })\r\n                .then(() => {\r\n                    let delList = [];\r\n                    this.selectedList.forEach(item => {\r\n                        delList.push(item.id);\r\n                    });\r\n                    api.post(\"activityGroupUserLeave\", {\r\n                        id: delList\r\n                    }).then(res => {\r\n                        this.$message({\r\n                            message: \"删除成功\",\r\n                            type: \"success\"\r\n                        });\r\n                        this.fetchData();\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消删除\"\r\n                    });\r\n                });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-sidebar {\r\n    user-select: none;\r\n    max-height: 58rem;\r\n    // overflow-y: scroll;\r\n    font-size: 15px;\r\n    border: 1px solid #f5f5f5;\r\n    .all {\r\n        cursor: pointer;\r\n        height: 4rem;\r\n        padding-left: 20px;\r\n        &.active {\r\n            background-color: rgba(245, 245, 245, 1);\r\n        }\r\n    }\r\n    .other {\r\n        .group {\r\n            cursor: pointer;\r\n            user-select: none;\r\n            padding: 10px 0;\r\n            &.active {\r\n                background-color: rgba(245, 245, 245, 1);\r\n            }\r\n        }\r\n    }\r\n    .add-button {\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticStyle:{\"padding\":\"10px 15px\"}},[_c('el-button',{on:{\"click\":_vm.handleGroupingUser}},[_vm._v(\"分组\")]),_vm._v(\" \"),(_vm.search.id!=1)?_c('el-button',{on:{\"click\":_vm.handleDeleteUserGroup}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"300px\",\"margin-left\":\"15px\"},attrs:{\"placeholder\":\"搜索用户账号或昵称\",\"suffix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearch($event)}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex1\"},[_c('Utable',{attrs:{\"data\":_vm.list,\"cols\":_vm.cols,\"actions\":_vm.actions,\"pagination\":false,\"selection\":true},on:{\"selection\":_vm.selection}})],1)]),_vm._v(\" \"),_c('el-col',{staticClass:\"user-sidebar\",attrs:{\"span\":4}},[_vm._l((_vm.userGroupList),function(group){return [(group.id==1)?_c('el-row',{key:group.id,staticClass:\"all\",class:{active: _vm.search.id === 1},attrs:{\"type\":\"flex\",\"align\":\"middle\"},nativeOn:{\"click\":function($event){_vm.handleToggleGroup(1)}}},[_vm._v(\"全部用户（\"+_vm._s(group.userCount)+\"）\")]):_vm._e()]}),_vm._v(\" \"),_c('el-row',{staticClass:\"other\"},[_vm._l((_vm.userGroupList),function(group){return [(group.id!=1)?_c('el-row',{key:group.id,staticClass:\"group\",class:{active: _vm.search.id === group.id},attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"center\"},nativeOn:{\"click\":function($event){_vm.handleToggleGroup(group.id)}}},[_vm._v(_vm._s(group.title)+\"（\"+_vm._s(group.userCount)+\"）\")]):_vm._e()]})],2),_vm._v(\" \"),_c('el-row',{staticClass:\"add-button\",attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleEditGroup}},[_vm._v(\"＋新增分组\")]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-group\",attrs:{\"title\":\"新增分组\",\"visible\":_vm.dialogVisibleGroup,\"width\":\"20%\"},on:{\"update:visible\":function($event){_vm.dialogVisibleGroup=$event}}},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入分组名称\"},model:{value:(_vm.addGroupName),callback:function ($$v) {_vm.addGroupName=$$v},expression:\"addGroupName\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleCancelGroup}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddGroup}},[_vm._v(\"确 定\")])],1)],1)],1)],2)],1),_vm._v(\" \"),_c('add-user',{attrs:{\"visible\":_vm.showAddUser,\"groupId\":_vm.search.id},on:{\"update:visible\":function($event){_vm.showAddUser=$event}}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-group\",attrs:{\"title\":\"请选择分组\",\"visible\":_vm.dialogVisibleSelect,\"width\":\"30%\",\"before-colse\":_vm.handleSelectClose},on:{\"update:visible\":function($event){_vm.dialogVisibleSelect=$event}}},[_c('el-select',{staticClass:\"dialog-select\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectGroup),callback:function ($$v) {_vm.selectGroup=$$v},expression:\"selectGroup\"}},_vm._l((_vm.userGroupList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}})})),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisibleSelect = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleGroupUser}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('copy-dialog',{attrs:{\"visible\":_vm.centerDialogVisible,\"time\":_vm.minute,\"url\":_vm.downloadUrl},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8a92960\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8a92960\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\czy-activity\\\\\\\\activity-management-platform\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\index.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8a92960\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8a92960\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}