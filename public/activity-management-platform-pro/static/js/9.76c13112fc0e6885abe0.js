webpackJsonp([9],{fOxz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("gyMJ"),i={data:function(){return{activeIndex:"2",form:{categoryId:[],search:""},typeList:[],statusList:[],list:[],cols:[{label:"资源ID",prop:"resourceId",align:"center"},{label:"资源名称",prop:"resourceName",align:"center"},{label:"活动名称",prop:"activityName",align:"center"},{label:"有效时间",prop:"effectiveTime",align:"center",formatTime:!0},{label:"总数",prop:"number",align:"center"},{label:"已冻结",prop:"freeze",align:"center"},{label:"已使用",prop:"usedNumber",align:"center"}],actions:[],pageState:{pageSize:10,pageNumber:1,total:0},categoryList:[],props:{label:"title",value:"id",children:"son"}}},mounted:function(){this.fetchData(),this.getCategoryList()},methods:{renderBreadCrumbAction:function(){var e=this;this.$createElement;this.$bus.$emit("changeBreadCrumbAction",function(t,a){return a("div",{},[a("el-button",{attrs:{size:"medium"},on:{click:e.approvalHistory}},["审批历史"]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.apply}},["申请资源"])])})},fetchData:function(){var e=this;r.a.post("activityResourceDetail",{orderNumber:"",search:this.form.search,categoryId:this.form.categoryId.length>0?this.form.categoryId[this.form.categoryId.length-1]:"",pageSize:this.pageState.pageSize,pageNumber:this.pageState.pageNumber}).then(function(t){e.list=t.data.dataList,e.pageState.total=t.data.dataCount})},onPageSize:function(e){this.pageState.pageSize=e},onPageNumber:function(e){this.pageState.pageNumber=e},handleSelect:function(e){1==e&&this.$router.push({name:"prizeList"})},getCategoryList:function(){var e=this;r.a.post("resourceCategoryList").then(function(t){e.categoryList=t.data.dataList})},changeCategory:function(e){console.log(e)},search:function(){this.pageState.pageSize=10,this.pageState.pageNumber=1,this.fetchData()},reset:function(){this.form.search="",this.form.categoryId=[],this.pageState.pageSize=10,this.pageState.pageNumber=1,this.fetchData()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"resource-list page-list"},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"15px"}},[a("el-cascader",{attrs:{clearable:"",options:e.categoryList,props:e.props,"show-all-levels":!1,placeholder:"全部类型"},on:{change:e.changeCategory},model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"15px"}},[a("el-input",{attrs:{placeholder:"搜索资源名称或资源id"},model:{value:e.form.search,callback:function(t){e.$set(e.form,"search",t)},expression:"form.search"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"15px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置查询")])],1)],1)],1)],1),e._v(" "),a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[e._v("奖品列表")]),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[e._v("资源列表")])],1),e._v(" "),a("div",{staticClass:"flex1"},[a("Utable",{attrs:{data:e.list,cols:e.cols,actions:e.actions,pageNumber:e.pageState.pageNumber,pageSize:e.pageState.pageSize,total:e.pageState.total},on:{pageSize:e.onPageSize,pageNumber:e.onPageNumber}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(e){a("srsA")},"data-v-13578c2f",null);t.default=s.exports},srsA:function(e,t){}});
//# sourceMappingURL=9.76c13112fc0e6885abe0.js.map