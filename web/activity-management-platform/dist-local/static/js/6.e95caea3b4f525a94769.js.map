{"version":3,"sources":["webpack:///src/views/activity/component/time-picker.vue","webpack:///./src/views/activity/component/time-picker.vue?6f9c","webpack:///src/views/activity/prize-setting.vue","webpack:///./src/views/activity/component/time-picker.vue","webpack:///./src/views/activity/prize-setting.vue?707f","webpack:///./src/views/activity/prize-setting.vue"],"names":["time_picker","name","props","time","type","String","default","data","value","watch","val","this","$set","split","created","methods","onChange","$emit","join","component_time_picker","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","is-range","range-separator","start-placeholder","end-placeholder","value-format","format","on","change","model","callback","$$v","expression","staticRenderFns","prize_setting","components","timePicker","__webpack_require__","normalizeComponent","form","prizeList","categoryList","checkList","levelList","level","list","categoryId","category","activityId","$route","query","id","awardId","number","resourceNumber","allDailyNumber","personalDailyNumber","rate","timeList","tableStyle","max-width","_this","getDetail","getPrizeList","$nextTick","renderBreadCrumbAction","length","$refs","content","offsetWidth","_this2","$bus","c","h","size","click","submitForm","goBack","_this3","api","post","then","res","award","forEach","item","push","obj","_this4","params","search","pageSize","pageNumber","dataList","arr","includes","categoryName","_this5","flag","showTips","checkResult","check","resourceArray","$router","back","text","$alert","confirmButtonText","action","str1","prize","awardNumber","indexOf","str","changeResource","row","changeCategory","addRow","formatName","delRow","scope","splice","$index","addCol","_this6","delCol","index","_this7","SectionToChinese","section","chnNumChar","chnUnitChar","strIns","chnStr","unitPos","zero","v","Math","floor","activity_prize_setting","staticClass","ref","label-width","span","label","_v","_s","_f","startAt","endAt","numberTotal","numberDaily","disabled","margin-left","border","prop","align","scopedSlots","_u","key","fn","usedNumber","margin","_l","margin-top","style","fixed","clearable","placeholder","$event","_e","min","col","colIndex","update:time","padding-bottom","prize_setting_Component","prize_setting_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.e95caea3b4f525a94769.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-time-picker\r\n            is-range\r\n            v-model=\"value\"\r\n            range-separator=\"-\"\r\n            start-placeholder=\"开始时间\"\r\n            end-placeholder=\"结束时间\"\r\n            value-format=\"HH:mm\"\r\n            format=\"HH:mm\"\r\n            style=\"width:160px\"\r\n            @change=\"onChange\"\r\n        ></el-time-picker>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"timePicker\",\r\n    props: {\r\n        time: {\r\n            type: String,\r\n            default: []\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            value: [\"00:00\", \"23:00\"]\r\n        };\r\n    },\r\n    watch: {\r\n        time(val) {\r\n            if (val) {\r\n                this.$set(this.value, 1, val.split(\"-\")[1]);\r\n                this.$set(this.value, 0, val.split(\"-\")[0]);\r\n            } else {\r\n                this.value = [\"00:00\", \"23:00\"];\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        if (this.time) {\r\n            this.$set(this.value, 1, this.time.split(\"-\")[1]);\r\n            this.$set(this.value, 0, this.time.split(\"-\")[0]);\r\n        }\r\n    },\r\n    methods: {\r\n        onChange(val) {\r\n            if (val) {\r\n                this.time = val;\r\n                this.$emit(\"update:time\", val.join(\"-\"));\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/activity/component/time-picker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-time-picker',{staticStyle:{\"width\":\"160px\"},attrs:{\"is-range\":\"\",\"range-separator\":\"-\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\",\"value-format\":\"HH:mm\",\"format\":\"HH:mm\"},on:{\"change\":_vm.onChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-348eefb2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/activity/component/time-picker.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"prize-setting\">\r\n        <el-form :model=\"form\" ref=\"form\" label-width=\"100px\">\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"活动名称：\">\r\n                        <span>{{form.name}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"活动时间：\">\r\n                        <span>{{form.startAt|datetime}}~{{form.endAt|datetime}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"抽奖次数：\">\r\n                        <span>每用户共可参加{{form.numberTotal?form.numberTotal:'无限'}}次&nbsp;&nbsp;每用户每天可参加{{form.numberDaily?form.numberDaily:'无限'}}次</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"活动可用奖品：\">\r\n                        <span></span>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"活动类型：\">\r\n                        <span>开门抽奖</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"新人专享：\">\r\n                        <el-switch v-model=\"form.new\" disabled></el-switch>（新人：注册30天内的用户）\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n        </el-form>\r\n        <el-table :data=\"prizeList\" border style=\"width:721px;margin-left:20px\">\r\n            <el-table-column prop=\"categoryName\" label=\"资源类型\" width=\"180\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"奖品名称\" width=\"180\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"awardNumber\" label=\"剩余\" width=\"180\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.awardNumber-scope.row.usedNumber}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"usedNumber\" label=\"已发放\" width=\"180\" align=\"center\"></el-table-column>\r\n        </el-table>\r\n        <div style=\"margin:20px\" ref=\"content\">奖品设置：</div>\r\n        <div style=\"margin-left:20px\">\r\n            <div>\r\n                <el-checkbox-group v-model=\"checkList\">\r\n                    <el-checkbox\r\n                        :label=\"item.level\"\r\n                        v-for=\"item in levelList\"\r\n                        :key=\"item.level\"\r\n                    >{{item.name}}</el-checkbox>-->\r\n                    <label class=\"el-checkbox\">的奖品全部发放完时，活动将自动下线</label>\r\n                </el-checkbox-group>\r\n            </div>\r\n            <div style=\"margin-top:15px;\">\r\n                <el-table :data=\"list\" border class=\"setting-table\" :style=\"tableStyle\">\r\n                    <el-table-column label=\"奖品级别\" prop=\"name\" width=\"180\" align=\"center\" fixed></el-table-column>\r\n                    <el-table-column label=\"奖品类型\" width=\"180\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-select\r\n                                v-model=\"scope.row.categoryId\"\r\n                                clearable\r\n                                placeholder=\"请选择\"\r\n                                @change=\"changeCategory(scope.row)\"\r\n                            >\r\n                                <el-option\r\n                                    v-for=\"item in categoryList\"\r\n                                    :key=\"item.categoryId\"\r\n                                    :label=\"item.categoryName\"\r\n                                    :value=\"item.categoryId\"\r\n                                ></el-option>\r\n                            </el-select>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"奖品\" width=\"180\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-select\r\n                                v-model=\"scope.row.awardId\"\r\n                                clearable\r\n                                placeholder=\"请选择\"\r\n                                @change=\"changeResource(scope.row)\"\r\n                            >\r\n                                <template v-for=\"item in prizeList\">\r\n                                    <el-option\r\n                                        v-if=\"scope.row.categoryId == item.categoryId\"\r\n                                        :key=\"item.id\"\r\n                                        :label=\"item.name\"\r\n                                        :value=\"item.id\"\r\n                                    ></el-option>\r\n                                </template>\r\n                            </el-select>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"发放数量\" width=\"180\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input v-model=\"scope.row.number\" placeholder=\"不限\" type=\"number\"></el-input>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"每日上限（数量）\" width=\"180\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-form class=\"table-form\">\r\n                                <el-form-item label=\"全部:\" label-width=\"55px\">\r\n                                    <el-input\r\n                                        v-model=\"scope.row.allDailyNumber\"\r\n                                        placeholder=\"不限\"\r\n                                        type=\"number\"\r\n                                        size=\"small\"\r\n                                        min=\"0\"\r\n                                    ></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"每人:\" label-width=\"55px\">\r\n                                    <el-input\r\n                                        v-model=\"scope.row.personalDailyNumber\"\r\n                                        placeholder=\"不限\"\r\n                                        type=\"number\"\r\n                                        size=\"small\"\r\n                                        min=\"0\"\r\n                                    ></el-input>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <template v-for=\"(col,colIndex) in timeList\">\r\n                        <el-table-column :key=\"colIndex\" align=\"center\" width=\"190\">\r\n                            <template slot=\"header\" slot-scope=\"scope\">\r\n                                <el-button type=\"text\" @click=\"delCol(colIndex)\">删除时段</el-button>\r\n                                <time-picker :time.sync=\"col.time\"></time-picker>\r\n                            </template>\r\n                            <template slot-scope=\"scope\">\r\n                                <el-input\r\n                                    v-model=\"scope.row.rate[colIndex]\"\r\n                                    size=\"mini\"\r\n                                    placeholder=\"请输入中奖几率\"\r\n                                />\r\n                            </template>\r\n                        </el-table-column>\r\n                    </template>\r\n                    <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button type=\"text\" @click=\"delRow(scope)\">删除奖品</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n            <div style=\"margin-top:15px;padding-bottom:50px;\">\r\n                <el-button @click=\"addCol\">添加时段规则</el-button>\r\n                <el-button @click=\"addRow\">添加奖品</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\";\r\nimport timePicker from \"./component/time-picker\";\r\nexport default {\r\n    components: {\r\n        timePicker\r\n    },\r\n    data() {\r\n        return {\r\n            // search: \"\",\r\n            form: {},\r\n            prizeList: [],\r\n            categoryList: [],\r\n            checkList: [],\r\n            levelList: [\r\n                {\r\n                    name: \"一等奖\",\r\n                    level: \"1\"\r\n                },\r\n                {\r\n                    name: \"二等奖\",\r\n                    level: \"2\"\r\n                },\r\n                {\r\n                    name: \"三等奖\",\r\n                    level: \"3\"\r\n                },\r\n                {\r\n                    name: \"四等奖\",\r\n                    level: \"4\"\r\n                },\r\n                {\r\n                    name: \"五等奖\",\r\n                    level: \"5\"\r\n                }\r\n            ],\r\n            list: [\r\n                {\r\n                    name: \"一等奖\",\r\n                    level: \"1\",\r\n                    categoryId: \"\",\r\n                    category: \"\",\r\n                    activityId: this.$route.query.id,\r\n                    awardId: \"\",\r\n                    number: \"\",\r\n                    resourceNumber: \"\",\r\n                    allDailyNumber: \"\",\r\n                    personalDailyNumber: \"\",\r\n                    rate: [\"\"]\r\n                },\r\n                {\r\n                    name: \"二等奖\",\r\n                    level: \"2\",\r\n                    categoryId: \"\",\r\n                    category: \"\",\r\n                    activityId: this.$route.query.id,\r\n                    awardId: \"\",\r\n                    number: \"\",\r\n                    resourceNumber: \"\",\r\n                    allDailyNumber: \"\",\r\n                    personalDailyNumber: \"\",\r\n                    rate: [\"\"]\r\n                },\r\n                {\r\n                    name: \"三等奖\",\r\n                    level: \"3\",\r\n                    categoryId: \"\",\r\n                    category: \"\",\r\n                    activityId: this.$route.query.id,\r\n                    awardId: \"\",\r\n                    number: \"\",\r\n                    resourceNumber: \"\",\r\n                    allDailyNumber: \"\",\r\n                    personalDailyNumber: \"\",\r\n                    rate: [\"\"]\r\n                },\r\n                {\r\n                    name: \"四等奖\",\r\n                    level: \"4\",\r\n                    categoryId: \"\",\r\n                    category: \"\",\r\n                    activityId: this.$route.query.id,\r\n                    awardId: \"\",\r\n                    number: \"\",\r\n                    resourceNumber: \"\",\r\n                    allDailyNumber: \"\",\r\n                    personalDailyNumber: \"\",\r\n                    rate: [\"\"]\r\n                },\r\n                {\r\n                    name: \"五等奖\",\r\n                    level: \"5\",\r\n                    categoryId: \"\",\r\n                    category: \"\",\r\n                    activityId: this.$route.query.id,\r\n                    awardId: \"\",\r\n                    number: \"\",\r\n                    resourceNumber: \"\",\r\n                    allDailyNumber: \"\",\r\n                    personalDailyNumber: \"\",\r\n                    rate: [\"\"]\r\n                }\r\n            ],\r\n            timeList: [{ time: \"00:00-23:59\" }],\r\n            tableStyle: {\r\n                width: \"\",\r\n                \"max-width\": \"\"\r\n            }\r\n        };\r\n    },\r\n    created() {\r\n        this.getDetail();\r\n        this.getPrizeList();\r\n        this.$nextTick(this.renderBreadCrumbAction);\r\n        this.$nextTick(() => {\r\n            this.tableStyle = {\r\n                width: 1080 + this.timeList.length * 190 + 1 + \"px\",\r\n                \"max-width\": this.$refs.content.offsetWidth - 150 + \"px\"\r\n            };\r\n        });\r\n    },\r\n    methods: {\r\n        renderBreadCrumbAction() {\r\n            this.$bus.$emit(\"changeBreadCrumbAction\", (c, h) => {\r\n                return h(\"div\", {}, [\r\n                    <el-button\r\n                        size=\"medium\"\r\n                        type=\"primary\"\r\n                        onClick={this.submitForm}\r\n                    >\r\n                        发布\r\n                    </el-button>,\r\n                    <el-button size=\"medium\" onClick={this.goBack}>\r\n                        取消\r\n                    </el-button>\r\n                ]);\r\n            });\r\n        },\r\n        /**\r\n         * 活动\r\n         */\r\n        getDetail() {\r\n            api.post(\"activityGet\", { id: this.$route.query.id }).then(res => {\r\n                this.form = res.data;\r\n                if (res.data.award.length > 0) {\r\n                    this.list = res.data.award;\r\n                    this.timeList = [];\r\n                    res.data.time.forEach(item => {\r\n                        this.timeList.push({ time: item });\r\n                    });\r\n                    this.levelList = [];\r\n                    res.data.award.forEach(item => {\r\n                        let obj = {\r\n                            name: item.name,\r\n                            level: item.level + \"\"\r\n                        };\r\n                        this.levelList.push(obj);\r\n                    });\r\n                    this.checkList = this.form.level.split(\",\");\r\n                }\r\n            });\r\n        },\r\n        getPrizeList() {\r\n            let params = {\r\n                search: this.$route.query.number,\r\n                pageSize: 1000,\r\n                pageNumber: 1\r\n            };\r\n            api.post(\"activityAwardGetlist\", params).then(res => {\r\n                if (res.data.dataList.length > 0) {\r\n                    this.prizeList = res.data.dataList[0].award;\r\n                    this.categoryList = [];\r\n                    let arr = [];\r\n                    res.data.dataList[0].award.forEach(item => {\r\n                        if (!arr.includes(item.categoryId)) {\r\n                            arr.push(item.categoryId);\r\n                            this.categoryList.push({\r\n                                categoryId: item.categoryId,\r\n                                categoryName: item.categoryName\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        submitForm() {\r\n            if (this.timeList.length == 0) {\r\n                this.showTips(\"请添加时段\");\r\n                return;\r\n            }\r\n            if (this.list.length == 0) {\r\n                this.showTips(\"请添加奖品\");\r\n                return;\r\n            }\r\n            let time = [];\r\n            let flag = false;\r\n            this.timeList.forEach(item => {\r\n                if (!item.time) {\r\n                    this.showTips(\"请输入时段\");\r\n                    flag = true;\r\n                    return;\r\n                }\r\n                time.push(item.time);\r\n            });\r\n            if (flag) return;\r\n            this.list.forEach(item => {\r\n                let checkResult = this.check(item);\r\n                if (checkResult) {\r\n                    this.showTips(checkResult);\r\n                    flag = true;\r\n                    return;\r\n                }\r\n            });\r\n            if (flag) return;\r\n            let params = {\r\n                id: this.$route.query.id,\r\n                level: this.checkList,\r\n                time: time,\r\n                resourceArray: this.list\r\n            };\r\n            api.post(\"activityUpdate\", params).then(res => {\r\n                this.$router.back();\r\n            });\r\n        },\r\n        showTips(text) {\r\n            this.$alert(text, \"提示\", {\r\n                type: \"warning\",\r\n                confirmButtonText: \"确定\",\r\n                callback: action => {}\r\n            });\r\n        },\r\n        check(item) {\r\n            if (!item.categoryId) {\r\n                return \"请选择奖品类型\";\r\n            }\r\n            if (!item.awardId) {\r\n                return \"请选择奖品\";\r\n            }\r\n            if (!item.number) {\r\n                return \"请输入发放数量\";\r\n            }\r\n            let str1 = \"\";\r\n            this.prizeList.forEach(prize => {\r\n                if (item.awardId == prize.id) {\r\n                    item.resourceNumber = prize.resourceNumber;\r\n                    if (item.number > prize.awardNumber) {\r\n                        str1 = \"发放数量不能大于奖品数量\";\r\n                    }\r\n                }\r\n            });\r\n            if (str1) {\r\n                return str1;\r\n            }\r\n            if (\r\n                item.allDailyNumber.indexOf(\"-\") >= 0 ||\r\n                item.personalDailyNumber.indexOf(\"-\") >= 0\r\n            ) {\r\n                return \"每日上限不能为负\";\r\n            }\r\n            // if (!item.allDailyNumber || !item.personalDailyNumber) {\r\n            //     return \"请输入每日上限\";\r\n            // }\r\n            let str = \"\";\r\n            item.rate.forEach(rate => {\r\n                if (!rate) {\r\n                    str = \"请输入中奖概率\";\r\n                }\r\n            });\r\n            return str;\r\n        },\r\n        goBack() {\r\n            this.$router.back();\r\n        },\r\n        changeResource(row) {\r\n            this.prizeList.forEach(item => {\r\n                if (item.id == row.awardId) {\r\n                    row.number = item.awardNumber;\r\n                    row.resourceNumber = item.resourceNumber;\r\n                }\r\n            });\r\n        },\r\n        changeCategory(row) {\r\n            if (row.categoryId) {\r\n                this.categoryList.forEach(item => {\r\n                    if (item.categoryId == row.categoryId) {\r\n                        row.category = item.categoryName;\r\n                    }\r\n                });\r\n            }\r\n            row.awardId = \"\";\r\n        },\r\n        /**\r\n         * 添加奖品\r\n         */\r\n        addRow() {\r\n            let arr = [];\r\n            this.timeList.forEach(item => {\r\n                arr.push(\"\");\r\n            });\r\n            let obj = {\r\n                name: this.formatName(this.list.length + 1),\r\n                level: this.list.length + 1 + \"\",\r\n                categoryId: \"\",\r\n                category: \"\",\r\n                activityId: this.$route.query.id,\r\n                awardId: \"\",\r\n                number: \"\",\r\n                resourceNumber: \"\",\r\n                allDailyNumber: \"\",\r\n                personalDailyNumber: \"\",\r\n                rate: arr\r\n            };\r\n            this.list.push(obj);\r\n            this.levelList.push({\r\n                name: this.formatName(this.levelList.length + 1),\r\n                level: this.levelList.length + 1 + \"\"\r\n            });\r\n        },\r\n        delRow(scope) {\r\n            this.list.splice(scope.$index, 1);\r\n            this.levelList.splice(scope.$index, 1);\r\n        },\r\n        /**\r\n         * 添加时段\r\n         */\r\n        addCol() {\r\n            this.timeList.push({ time: \"\" });\r\n            this.list.forEach(item => {\r\n                item.rate.push(\"\");\r\n            });\r\n            this.$nextTick(() => {\r\n                this.tableStyle = {\r\n                    width: 1080 + this.timeList.length * 190 + 1 + \"px\",\r\n                    \"max-width\": this.$refs.content.offsetWidth - 150 + \"px\"\r\n                };\r\n            });\r\n        },\r\n        delCol(index) {\r\n            this.timeList.splice(index, 1);\r\n            this.list.forEach(item => {\r\n                item.rate.splice(index, 1);\r\n            });\r\n            this.$nextTick(() => {\r\n                this.tableStyle = {\r\n                    width: 1080 + this.timeList.length * 190 + 1 + \"px\",\r\n                    \"max-width\": this.$refs.content.offsetWidth - 150 + \"px\"\r\n                };\r\n            });\r\n        },\r\n        formatName(level) {\r\n            return this.SectionToChinese(level) + \"等奖\";\r\n        },\r\n        SectionToChinese(section) {\r\n            var chnNumChar = [\r\n                \"零\",\r\n                \"一\",\r\n                \"二\",\r\n                \"三\",\r\n                \"四\",\r\n                \"五\",\r\n                \"六\",\r\n                \"七\",\r\n                \"八\",\r\n                \"九\"\r\n            ];\r\n            var chnUnitSection = [\"\", \"万\", \"亿\", \"万亿\", \"亿亿\"];\r\n            var chnUnitChar = [\"\", \"十\", \"百\", \"千\"];\r\n            var strIns = \"\",\r\n                chnStr = \"\";\r\n            var unitPos = 0;\r\n            var zero = true;\r\n            while (section > 0) {\r\n                var v = section % 10;\r\n                if (v === 0) {\r\n                    if (!zero) {\r\n                        zero = true;\r\n                        chnStr = chnNumChar[v] + chnStr;\r\n                    }\r\n                } else {\r\n                    zero = false;\r\n                    strIns = chnNumChar[v];\r\n                    strIns += chnUnitChar[unitPos];\r\n                    chnStr = strIns + chnStr;\r\n                }\r\n                unitPos++;\r\n                section = Math.floor(section / 10);\r\n            }\r\n            return chnStr;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.prize-setting {\r\n    padding: 10px 15px;\r\n    /deep/ thead th {\r\n        background: #eee;\r\n    }\r\n    .table-form {\r\n        .el-form-item {\r\n            margin-bottom: 0;\r\n        }\r\n    }\r\n    .setting-table {\r\n        max-width: 90%;\r\n    }\r\n    // @media screen and (max-width: 1366px) {\r\n    //     .setting-table {\r\n    //         width: 1085px;\r\n    //     }\r\n    // }\r\n    // @media screen and (max-width: 1440px) {\r\n    //     .setting-table {\r\n    //         width: 1163px;\r\n    //     }\r\n    // }\r\n    // @media screen and (max-width: 1600px) {\r\n    //     .setting-table {\r\n    //         width: 1323px;\r\n    //     }\r\n    // }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/activity/prize-setting.vue","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./time-picker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./time-picker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-348eefb2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./time-picker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/activity/component/time-picker.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prize-setting\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"活动名称：\"}},[_c('span',[_vm._v(_vm._s(_vm.form.name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动时间：\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"datetime\")(_vm.form.startAt))+\"~\"+_vm._s(_vm._f(\"datetime\")(_vm.form.endAt)))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"抽奖次数：\"}},[_c('span',[_vm._v(\"每用户共可参加\"+_vm._s(_vm.form.numberTotal?_vm.form.numberTotal:'无限')+\"次  每用户每天可参加\"+_vm._s(_vm.form.numberDaily?_vm.form.numberDaily:'无限')+\"次\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动可用奖品：\"}},[_c('span')])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"活动类型：\"}},[_c('span',[_vm._v(\"开门抽奖\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新人专享：\"}},[_c('el-switch',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.new),callback:function ($$v) {_vm.$set(_vm.form, \"new\", $$v)},expression:\"form.new\"}}),_vm._v(\"（新人：注册30天内的用户）\\n                \")],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"721px\",\"margin-left\":\"20px\"},attrs:{\"data\":_vm.prizeList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"categoryName\",\"label\":\"资源类型\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"奖品名称\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"awardNumber\",\"label\":\"剩余\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.awardNumber-scope.row.usedNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"usedNumber\",\"label\":\"已发放\",\"width\":\"180\",\"align\":\"center\"}})],1),_vm._v(\" \"),_c('div',{ref:\"content\",staticStyle:{\"margin\":\"20px\"}},[_vm._v(\"奖品设置：\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"20px\"}},[_c('div',[_c('el-checkbox-group',{model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},[_vm._l((_vm.levelList),function(item){return _c('el-checkbox',{key:item.level,attrs:{\"label\":item.level}},[_vm._v(_vm._s(item.name))])}),_vm._v(\"-->\\n                \"),_c('label',{staticClass:\"el-checkbox\"},[_vm._v(\"的奖品全部发放完时，活动将自动下线\")])],2)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-table',{staticClass:\"setting-table\",style:(_vm.tableStyle),attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"奖品级别\",\"prop\":\"name\",\"width\":\"180\",\"align\":\"center\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"奖品类型\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.changeCategory(scope.row)}},model:{value:(scope.row.categoryId),callback:function ($$v) {_vm.$set(scope.row, \"categoryId\", $$v)},expression:\"scope.row.categoryId\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item.categoryId,attrs:{\"label\":item.categoryName,\"value\":item.categoryId}})}))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"奖品\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.changeResource(scope.row)}},model:{value:(scope.row.awardId),callback:function ($$v) {_vm.$set(scope.row, \"awardId\", $$v)},expression:\"scope.row.awardId\"}},[_vm._l((_vm.prizeList),function(item){return [(scope.row.categoryId == item.categoryId)?_c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}}):_vm._e()]})],2)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发放数量\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"placeholder\":\"不限\",\"type\":\"number\"},model:{value:(scope.row.number),callback:function ($$v) {_vm.$set(scope.row, \"number\", $$v)},expression:\"scope.row.number\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"每日上限（数量）\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form',{staticClass:\"table-form\"},[_c('el-form-item',{attrs:{\"label\":\"全部:\",\"label-width\":\"55px\"}},[_c('el-input',{attrs:{\"placeholder\":\"不限\",\"type\":\"number\",\"size\":\"small\",\"min\":\"0\"},model:{value:(scope.row.allDailyNumber),callback:function ($$v) {_vm.$set(scope.row, \"allDailyNumber\", $$v)},expression:\"scope.row.allDailyNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"每人:\",\"label-width\":\"55px\"}},[_c('el-input',{attrs:{\"placeholder\":\"不限\",\"type\":\"number\",\"size\":\"small\",\"min\":\"0\"},model:{value:(scope.row.personalDailyNumber),callback:function ($$v) {_vm.$set(scope.row, \"personalDailyNumber\", $$v)},expression:\"scope.row.personalDailyNumber\"}})],1)],1)]}}])}),_vm._v(\" \"),_vm._l((_vm.timeList),function(col,colIndex){return [_c('el-table-column',{key:colIndex,attrs:{\"align\":\"center\",\"width\":\"190\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.delCol(colIndex)}}},[_vm._v(\"删除时段\")]),_vm._v(\" \"),_c('time-picker',{attrs:{\"time\":col.time},on:{\"update:time\":function($event){_vm.$set(col, \"time\", $event)}}})]}},{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"请输入中奖几率\"},model:{value:(scope.row.rate[colIndex]),callback:function ($$v) {_vm.$set(scope.row.rate, colIndex, $$v)},expression:\"scope.row.rate[colIndex]\"}})]}}])})]}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.delRow(scope)}}},[_vm._v(\"删除奖品\")])]}}])})],2)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\",\"padding-bottom\":\"50px\"}},[_c('el-button',{on:{\"click\":_vm.addCol}},[_vm._v(\"添加时段规则\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addRow}},[_vm._v(\"添加奖品\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46176ad0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/activity/prize-setting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46176ad0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\czy-activity\\\\\\\\activity-management-platform\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\index.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./prize-setting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./prize-setting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./prize-setting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46176ad0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./prize-setting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-46176ad0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/activity/prize-setting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}