{"version":3,"sources":["webpack:///src/views/resource/prize.vue","webpack:///./src/views/resource/prize.vue?107f","webpack:///./src/views/resource/prize.vue"],"names":["prize","data","_this","this","form","activityId","name","categoryId","categoryName","resourceId","resourceNumber","awardNumber","image","rules","required","message","trigger","validator","rule","value","callback","parseFloat","totalNumber","Error","parseInt","activityList","resourceList","categoryList","upload","action","config","baseURL","Object","utils","domain","mounted","getActivityList","$nextTick","renderBreadCrumbAction","methods","_this2","$createElement","$bus","$emit","c","h","attrs","size","type","on","click","submitForm","goBack","_this3","api","post","status","then","res","dataList","$route","query","id","getDetail","_this4","changeActivity","_this5","$refs","validate","valid","extends_default","$router","back","_this6","forEach","item","activityResourceDetail","number","_this7","orderNumber","arr","indexOf","push","category","changeResource","changeCategory","_this8","_this9","handleAvatarSuccess","file","fileList","removeImg","resource_prize","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","span","label","prop","placeholder","disabled","change","$$v","$set","expression","_l","key","_v","resourceName","_e","list-type","fileName","fileType","show-file-list","on-success","on-remove","src","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.2e91792d3d5155aa84ca.js","sourcesContent":["<template>\r\n    <div class=\"prize\">\r\n        <el-form :model=\"form\" ref=\"form\" label-width=\"100px\" :rules=\"rules\">\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"选择活动\" prop=\"activityId\">\r\n                        <el-select\r\n                            v-model=\"form.activityId\"\r\n                            placeholder=\"请选择\"\r\n                            @change=\"changeActivity\"\r\n                            :disabled=\"!!$route.query.id\"\r\n                        >\r\n                            <el-option\r\n                                v-for=\"item in activityList\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.name\"\r\n                                :value=\"item.id\"\r\n                            ></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"选择类型\" prop=\"categoryId\">\r\n                        <el-select\r\n                            v-model=\"form.categoryId\"\r\n                            placeholder=\"请选择\"\r\n                            @change=\"changeCategory\"\r\n                            :disabled=\"!!$route.query.id\"\r\n                        >\r\n                            <el-option\r\n                                v-for=\"item in categoryList\"\r\n                                :key=\"item.categoryId\"\r\n                                :label=\"item.category\"\r\n                                :value=\"item.categoryId\"\r\n                            ></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"选择资源\" prop=\"resourceId\">\r\n                        <el-select\r\n                            v-model=\"form.resourceId\"\r\n                            placeholder=\"请选择\"\r\n                            @change=\"changeResource\"\r\n                            :disabled=\"!!$route.query.id\"\r\n                        >\r\n                            <template v-for=\"item in resourceList\">\r\n                                <el-option\r\n                                    v-if=\"item.categoryId == form.categoryId\"\r\n                                    :key=\"item.resourceId\"\r\n                                    :label=\"item.resourceName\"\r\n                                    :value=\"item.resourceId\"\r\n                                ></el-option>\r\n                            </template>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"资源数量\" prop=\"resourceNumber\">\r\n                        <el-input v-model=\"form.resourceNumber\" placeholder=\"输入单个该奖品需要的资源数量\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"奖品数量\" prop=\"awardNumber\">\r\n                        <el-input v-model=\"form.awardNumber\" placeholder=\"输入该奖品的总数\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"奖品名称\" prop=\"name\">\r\n                        <el-input v-model=\"form.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"奖品图片\" prop=\"image\">\r\n                        <el-upload\r\n                            class=\"avatar-uploader\"\r\n                            list-type=\"picture-card\"\r\n                            :data=\"{fileName:'file', fileType:0}\"\r\n                            :action=\"upload.action\"\r\n                            :show-file-list=\"false\"\r\n                            :on-success=\"handleAvatarSuccess\"\r\n                            :on-remove=\"removeImg\"\r\n                        >\r\n                            <img v-if=\"form.image\" :src=\"upload.domain+form.image\" class=\"avatar\">\r\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\";\r\nimport { API_CONFIG, UPLOAD_DOMAIN } from \"@/api/config.js\";\r\nimport { getUserId, getUserToken } from \"@/utils\";\r\nexport default {\r\n    data() {\r\n        let checkResourceNumber = (rule, value, callback) => {\r\n            if (parseFloat(value) > this.totalNumber) {\r\n                callback(new Error(\"资源数量不能大于剩余的资源数量\"));\r\n            } else if (parseFloat(value) < 0.1) {\r\n                callback(new Error(\"资源数量不能小于剩余0.1\"));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        let checkAwardNumber = (rule, value, callback) => {\r\n            if (\r\n                parseInt(value) * parseFloat(this.form.resourceNumber) >\r\n                this.totalNumber\r\n            ) {\r\n                callback(\r\n                    new Error(\"奖品数量不能大于剩余的资源数量除以资源数量\")\r\n                );\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            form: {\r\n                activityId: \"\",\r\n                name: \"\",\r\n                categoryId: \"\",\r\n                categoryName: \"\",\r\n                resourceId: \"\",\r\n                resourceNumber: \"\",\r\n                awardNumber: \"\",\r\n                image: \"\"\r\n            },\r\n            rules: {\r\n                activityId: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择活动\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                categoryId: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择类型\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                resourceId: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择资源\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                resourceNumber: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入资源数量\",\r\n                        trigger: \"blur\"\r\n                    },\r\n                    { validator: checkResourceNumber, trigger: \"blur\" }\r\n                ],\r\n                awardNumber: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入奖品数量\",\r\n                        trigger: \"blur\"\r\n                    },\r\n                    { validator: checkAwardNumber, trigger: \"blur\" }\r\n                ],\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入奖品名称\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                image: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请上传奖品图片\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ]\r\n            },\r\n            activityList: [],\r\n            resourceList: [],\r\n            categoryList: [],\r\n            totalNumber: 0,\r\n            upload: {\r\n                action: `${\r\n                    API_CONFIG.baseURL\r\n                }uploadFileForm?adminId=${getUserId()}&adminToken=${getUserToken()}`,\r\n                domain: UPLOAD_DOMAIN\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getActivityList();\r\n        this.$nextTick(this.renderBreadCrumbAction);\r\n    },\r\n    methods: {\r\n        renderBreadCrumbAction() {\r\n            this.$bus.$emit(\"changeBreadCrumbAction\", (c, h) => {\r\n                return h(\"div\", {}, [\r\n                    <el-button\r\n                        size=\"medium\"\r\n                        type=\"primary\"\r\n                        onClick={this.submitForm}\r\n                    >\r\n                        确定\r\n                    </el-button>,\r\n                    <el-button size=\"medium\" onClick={this.goBack}>\r\n                        取消\r\n                    </el-button>\r\n                ]);\r\n            });\r\n        },\r\n        getActivityList() {\r\n            api.post(\"activityGetlist\", { status: [2, 3, 4] }).then(res => {\r\n                this.activityList = res.data.dataList;\r\n                if (this.$route.query.id) {\r\n                    this.getDetail();\r\n                }\r\n            });\r\n        },\r\n        getDetail() {\r\n            api.post(\"activityAwardGet\", { id: this.$route.query.id }).then(\r\n                res => {\r\n                    this.form = res.data;\r\n                    this.changeActivity(this.form.activityId);\r\n                }\r\n            );\r\n        },\r\n        submitForm() {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid) {\r\n                    if (this.$route.query.id) {\r\n                        api.post(\"activityAwardUpdate\", {\r\n                            id: this.$route.query.id,\r\n                            ...this.form\r\n                        }).then(res => {\r\n                            this.$router.back();\r\n                        });\r\n                    } else {\r\n                        api.post(\"activityAwardInsert\", this.form).then(res => {\r\n                            this.$router.back();\r\n                        });\r\n                    }\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        goBack() {\r\n            this.$router.back();\r\n        },\r\n        changeActivity(id) {\r\n            this.activityList.forEach(item => {\r\n                if (item.id == id) {\r\n                    this.activityResourceDetail(item.number);\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * 资源列表\r\n         */\r\n        activityResourceDetail(number) {\r\n            api.post(\"activityResourceDetail\", {\r\n                orderNumber: number\r\n            }).then(res => {\r\n                this.resourceList = res.data.dataList;\r\n                this.categoryList = [];\r\n                let arr = [];\r\n                res.data.dataList.forEach(item => {\r\n                    if (arr.indexOf(item.categoryId) < 0) {\r\n                        arr.push(item.categoryId);\r\n                        this.categoryList.push({\r\n                            categoryId: item.categoryId,\r\n                            category: item.category\r\n                        });\r\n                    }\r\n                });\r\n                if (this.$route.query.id) {\r\n                    this.changeResource(this.form.resourceId);\r\n                }\r\n            });\r\n        },\r\n        changeCategory(id) {\r\n            this.categoryList.forEach(item => {\r\n                if (item.categoryId == id) {\r\n                    this.form.categoryName = item.category;\r\n                }\r\n            });\r\n            this.form.resourceId = \"\";\r\n        },\r\n        changeResource(id) {\r\n            this.resourceList.forEach(item => {\r\n                if (item.resourceId == id) {\r\n                    this.totalNumber = item.number;\r\n                }\r\n            });\r\n        },\r\n        handleAvatarSuccess(res, file, fileList) {\r\n            this.form.image = res.data;\r\n        },\r\n        removeImg() {}\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.prize {\r\n    padding: 10px 0;\r\n    /deep/ .el-form-item__content {\r\n        width: 400px;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409eff;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 118px;\r\n        height: 118px;\r\n        line-height: 118px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        width: 118px;\r\n        height: 118px;\r\n        display: block;\r\n    }\r\n    /deep/ .el-upload--picture-card {\r\n        width: 120px;\r\n        height: 120px;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/resource/prize.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prize\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"选择活动\",\"prop\":\"activityId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"disabled\":!!_vm.$route.query.id},on:{\"change\":_vm.changeActivity},model:{value:(_vm.form.activityId),callback:function ($$v) {_vm.$set(_vm.form, \"activityId\", $$v)},expression:\"form.activityId\"}},_vm._l((_vm.activityList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择类型\",\"prop\":\"categoryId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"disabled\":!!_vm.$route.query.id},on:{\"change\":_vm.changeCategory},model:{value:(_vm.form.categoryId),callback:function ($$v) {_vm.$set(_vm.form, \"categoryId\", $$v)},expression:\"form.categoryId\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item.categoryId,attrs:{\"label\":item.category,\"value\":item.categoryId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择资源\",\"prop\":\"resourceId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"disabled\":!!_vm.$route.query.id},on:{\"change\":_vm.changeResource},model:{value:(_vm.form.resourceId),callback:function ($$v) {_vm.$set(_vm.form, \"resourceId\", $$v)},expression:\"form.resourceId\"}},[_vm._l((_vm.resourceList),function(item){return [(item.categoryId == _vm.form.categoryId)?_c('el-option',{key:item.resourceId,attrs:{\"label\":item.resourceName,\"value\":item.resourceId}}):_vm._e()]})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"资源数量\",\"prop\":\"resourceNumber\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入单个该奖品需要的资源数量\"},model:{value:(_vm.form.resourceNumber),callback:function ($$v) {_vm.$set(_vm.form, \"resourceNumber\", $$v)},expression:\"form.resourceNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"奖品数量\",\"prop\":\"awardNumber\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入该奖品的总数\"},model:{value:(_vm.form.awardNumber),callback:function ($$v) {_vm.$set(_vm.form, \"awardNumber\", $$v)},expression:\"form.awardNumber\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"奖品名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"奖品图片\",\"prop\":\"image\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"list-type\":\"picture-card\",\"data\":{fileName:'file', fileType:0},\"action\":_vm.upload.action,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"on-remove\":_vm.removeImg}},[(_vm.form.image)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.upload.domain+_vm.form.image}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d23b8f5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/resource/prize.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d23b8f5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\czy-activity\\\\\\\\activity-management-platform\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\index.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./prize.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./prize.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./prize.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d23b8f5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./prize.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d23b8f5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/resource/prize.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}